!function(){"use strict";window.scrollTo(0,0),"scrollRestoration"in history&&(history.scrollRestoration="manual");const e={WHATSAPP_NUMBER:"+6285847006743",WHATSAPP_DEFAULT_MESSAGE:"Hello BaliBlissed! I'm interested in booking a vacation. Can you provide more information?",HEADER_SCROLL_THRESHOLD:100,BUTTON_COLLAPSE_TIMEOUT:1e3,HOVER_DELAY:600,PARALLAX_FACTOR:.5,NAV_LINKS:["index.html#home","index.html#car-charter","index.html#destinations","index.html#contact-form"]},t={throttle(e,t){let s;return function(){const n=arguments,i=this;s||(e.apply(i,n),s=!0,setTimeout(()=>s=!1,t))}},getElement:e=>document.querySelector(e),getElements:e=>document.querySelectorAll(e),isMobileDevice:()=>"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0};let s={};function n(e){const t=JSON.parse(sessionStorage.getItem("scrollToSection")||"[]");t.push(e),sessionStorage.setItem("scrollToSection",JSON.stringify(t))}const i={async init(){await this.loadComponents(),this.initializeDependentControllers(),u()},loadComponents(){const e=window.location.pathname,s=e.includes("/destinations/"),n=e.includes("/destinations/activities/"),i=e.includes("/services/"),o=e.includes("/pages/");let a="";n?a="../../../":s||i?a="../../":o&&(a="../");const r=t.getElement("#header-placeholder"),c=t.getElement("#footer-placeholder"),d=r?fetch(a+"includes/header.html").then(e=>e.text()).then(e=>{r.innerHTML=e,this.fixComponentPaths(r,a,s,n,i,o),l.init(),h.init()}).catch(e=>console.error("Error loading header:",e)):Promise.resolve(),m=c?fetch(a+"includes/footer.html").then(e=>e.text()).then(e=>{c.innerHTML=e,this.fixComponentPaths(c,a,s,n,i,o)}).catch(e=>console.error("Error loading footer:",e)):Promise.resolve();return Promise.all([d,m])},fixComponentPaths(t,s,i,o,a,r){if(i||o||a||r){const i=t.querySelectorAll('a:not([href^="http"]):not([href^="#"]):not([href^="mailto"]):not([href^="tel"])'),o=t.querySelectorAll('img:not([src^="http"]):not([src^="/"])');i.forEach(t=>{const i=t.getAttribute("href");if(e.NAV_LINKS.includes(i)){const e=i.split("#")[1],o=s+"index.html";t.setAttribute("href",o+"#"+e),t.addEventListener("click",t=>{t.preventDefault(),n(e),window.location.href=o})}else!i||i.startsWith("../")||i.startsWith("/")||i.includes("#")||t.setAttribute("href",s+i)}),o.forEach(e=>{const t=e.getAttribute("src");t&&!t.startsWith("../")&&e.setAttribute("src",s+t)})}},initializeDependentControllers(){c.init()}},o={init(){window.addEventListener("load",()=>{setTimeout(()=>{window.scrollTo(0,0)},0)}),document.addEventListener("DOMContentLoaded",()=>{window.scrollTo(0,0),setTimeout(()=>{window.scrollTo(0,0)},100)}),window.addEventListener("scroll",t.throttle(this.handleScroll,12))},handleScroll(){try{const s=t.getElement("#header");s&&(window.scrollY>e.HEADER_SCROLL_THRESHOLD?s.classList.add("scrolled"):s.classList.remove("scrolled"));const n=t.getElement(".hero-bg");if(n){const t=window.scrollY*e.PARALLAX_FACTOR;n.style.transform=`translateY(${t}px)`}const i=t.getElement("#home-float");if(i){const e=document.documentElement.scrollHeight,t=.8*(e-document.documentElement.clientHeight);window.scrollY>=t?i.classList.add("visible"):i.classList.remove("visible")}}catch(e){console.error("Error in scroll handler:",e)}}},a={init(){const e=document.querySelector(".service-link-button");e&&e.addEventListener("click",s=>{s.preventDefault();const n=e.href;t.isMobileDevice()?setTimeout(()=>{window.location.href=n},600):window.location.href=n})}},r={SERVICE_SELECTOR:".service-link-content",SERVICE_THRESHOLD:.6,SECTION_SELECTOR:"section:not(.hero)",SECTION_THRESHOLD:.1,VISIBLE_CLASS:"visible",_serviceObserver:null,_sectionObserver:null,_handleIntersection(e){e.forEach(e=>{e.isIntersecting?e.target.classList.add(this.VISIBLE_CLASS):e.target.classList.remove(this.VISIBLE_CLASS)})},_createObserver(e,s){const n=t.getElements(e);if(!n||0===n.length)return null;const i={root:null,rootMargin:"0px",threshold:s},o=new IntersectionObserver(this._handleIntersection.bind(this),i);return n.forEach(e=>o.observe(e)),o},init(){if(!this._serviceObserver&&!this._sectionObserver)try{this._serviceObserver=this._createObserver(this.SERVICE_SELECTOR,this.SERVICE_THRESHOLD),this._sectionObserver=this._createObserver(this.SECTION_SELECTOR,this.SECTION_THRESHOLD),this._serviceObserver||this._sectionObserver||console.log("ScrollAnimation: No elements found to observe for any selector.")}catch(e){console.error("Error initializing scroll animations:",e),this.disconnect()}},disconnect(){this._serviceObserver&&(this._serviceObserver.disconnect(),this._serviceObserver=null),this._sectionObserver&&(this._sectionObserver.disconnect(),this._sectionObserver=null)}},l={init(){this.setupMobileMenu(),this.setupSmoothScrolling(),this.setupCrossPageNavigation()},setupMobileMenu(){try{const e=t.getElement(".menu-toggle"),s=t.getElement(".mobile-menu"),n=t.getElement(".overlay"),i=t.getElement(".close-btn");if(e&&s&&n&&i){e.addEventListener("click",()=>{s.classList.add("active"),n.classList.add("active"),document.body.style.overflow="hidden"});const t=()=>{s.classList.remove("active"),n.classList.remove("active"),document.body.style.overflow=""};i.addEventListener("click",t),n.addEventListener("click",t)}}catch(e){console.error("Error setting up mobile menu:",e)}},setupCrossPageNavigation(){try{const s=t.getElement(".car-charter-link"),i=t.getElement(".destinations-link"),o=t.getElement(".contact-link");[s,i,o].forEach(s=>{s.addEventListener("click",i=>{const o=s.getAttribute("href"),a=window.location.pathname;if(!(a.endsWith("/")||a.endsWith("/index.html")||a.includes("/BaliBlissed/index.html"))&&e.NAV_LINKS.includes(o))i.preventDefault(),n(o.split("#")[1]),window.location.href=o.split("#")[0];else{let e=t.getElement(".scroll-overlay");e||(e=document.createElement("div"),e.className="scroll-overlay",document.body.appendChild(e)),document.body.classList.add("overlay-active"),e.classList.remove("fade-out"),requestAnimationFrame(()=>{e.classList.add("fade-out")}),e.addEventListener("transitionend",()=>{e.remove(),document.body.classList.remove("overlay-active")},{once:!0}),setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"}),e.remove(),document.body.classList.remove("overlay-active")},1500)}})})}catch(e){console.error("Error setting up cross-page navigation:",e)}},setupSmoothScrolling(){try{const e=t.getElement(".mobile-menu"),s=t.getElement(".overlay");t.getElements('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(n){n.preventDefault(),e&&s&&(e.classList.remove("active"),s.classList.remove("active"),document.body.style.overflow="");const i=this.getAttribute("href");if(i&&"#"!==i){const e=t.getElement(i);e&&e.scrollIntoView({behavior:"smooth"})}})})}catch(e){console.error("Error setting up smooth scrolling:",e)}}},c={init(){},welcomeModal(){try{const e=t.getElement("#welcome-modal");if(!e)return void console.error("Modal element not found.");const s=t.getElement(".welcome-modal-close"),n=t.getElement(".welcome-modal-button");!function(e,t,s=1500){const n="modalShown";if(t&&sessionStorage.getItem(n))return;setTimeout(()=>{e.classList.add("active"),document.body.style.overflow="hidden",t&&sessionStorage.setItem(n,"true")},s)}(e,!1),d(e,s,n)}catch(e){console.error("Error setting up Welcome modal:",e)}},aboutModal(){try{const e=t.getElements(".about-link"),s=t.getElement("#about-modal"),n=t.getElement(".about-modal-body"),i=t.getElement(".about-modal-close"),o=t.getElement(".mobile-menu"),a=t.getElement(".overlay");if(!e.length||!s||!n)return void console.warn("About modal elements not found.");const r=e=>{!function(e,s,n,i,o){if(e.preventDefault(),i&&i.classList.contains("active")){if(i.classList.remove("active"),!o)return;o.classList.remove("active")}const a=t.getElement("#footer-placeholder .footer-about");if(!a)return console.error("Footer 'About' content not found in DOM."),n.innerHTML="<p>Content could not be loaded.</p>",s.classList.add("active"),void(document.body.style.overflow="hidden");n.innerHTML=a.innerHTML,n.querySelectorAll("img").forEach(e=>{let t=e.getAttribute("src");!t||t.startsWith("/")||t.startsWith("http")||e.setAttribute("src","/"+t)}),s.classList.add("active"),document.body.style.overflow="hidden"}(e,s,n,o,a)};e.forEach(e=>{e.addEventListener("click",r)}),d(s,i,null)}catch(e){console.error("Error setting up About modal:",e)}}};function d(e,s,n){const i=()=>{!function(e,t,s=1200){if(!t)return e.classList.remove("active"),void(document.body.style.overflow="");t.classList.add("hover-trigger"),setTimeout(()=>{t.classList.remove("hover-trigger"),e.classList.remove("active"),document.body.style.overflow=""},s)}(e,n)};s.addEventListener("click",()=>{i()}),e.addEventListener("click",t=>{t.target===e&&i()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&i()}),n&&n.addEventListener("click",e=>{e.preventDefault(),i();const s=n.getAttribute("href"),o=t.getElement(s);o?o.scrollIntoView({behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})})}function m(t=null){try{const s=t||e.WHATSAPP_DEFAULT_MESSAGE,n=`https://wa.me/${e.WHATSAPP_NUMBER}?text=${encodeURIComponent(s)}`;window.open(n,"_blank","noopener,noreferrer")}catch(e){console.error("Failed to open WhatsApp chat:",e)}}const u=()=>{const e=new Set;try{const s=t.getElements(".cta-button, .book-now");s.length>0&&s.forEach(t=>{e.has(t)||(e.add(t),t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();let s=null;if(t.classList.contains("cta-button")){s=`Hello BaliParadise! I'm interested in booking the ${document.title.split("|")[0].trim()}. Can you provide more information?`}m(s)}),t.removeAttribute("onclick"))})}catch(e){console.error("Error setting up booking buttons:",e)}},h={buttonTimeouts:new Map,init(){try{const e=Array.from(t.getElements(".floating-button")),s=t.getElement("#whatsapp-float");if(0===e.length)return;const n=t.isMobileDevice();e.forEach(e=>{this.setupButtonInteraction(e,n,s)}),this.setupOutsideInteractionListener(n)}catch(e){console.error("Error initializing floating buttons:",e)}},expandButton(s){t.getElements(".floating-button.expanded").forEach(e=>{e!==s&&this.collapseButton(e)}),s.classList.contains("expanded")||(s.classList.add("expanded"),this.startCollapseTimer(s,e.BUTTON_COLLAPSE_TIMEOUT))},collapseButton(e){e.classList.contains("expanded")&&(e.classList.remove("expanded"),this.clearCollapseTimer(e))},startCollapseTimer(e,t){this.clearCollapseTimer(e);const s=setTimeout(()=>{this.collapseButton(e)},t);this.buttonTimeouts.set(e,s)},clearCollapseTimer(e){this.buttonTimeouts.has(e)&&(clearTimeout(this.buttonTimeouts.get(e)),this.buttonTimeouts.delete(e))},handleInteraction(e,t,s,n){const i=e.classList.contains("expanded"),o=e===n;s?(t.preventDefault(),i?o&&(m(),this.collapseButton(e)):this.expandButton(e)):o&&(t.preventDefault(),m(),this.collapseButton(e))},setupButtonInteraction(t,s,n){if(s)t.addEventListener("touchend",e=>{this.handleInteraction(t,e,!0,n)});else{let s=null;t.addEventListener("mouseenter",()=>{clearTimeout(s),this.clearCollapseTimer(t),this.expandButton(t)}),t.addEventListener("mouseleave",()=>{s=setTimeout(()=>{this.collapseButton(t)},e.HOVER_DELAY)}),t.addEventListener("click",e=>{this.handleInteraction(t,e,!1,n)})}},setupOutsideInteractionListener(e){const s=e?"touchstart":"mousedown";document.addEventListener(s,e=>{if(!e.target.closest(".floating-button")){const e=t.getElement(".floating-button.expanded");e&&this.collapseButton(e)}},{passive:e})}},f={currentPage:1,isInitialLoad:!0,init(){try{const e=t.getElement(".prev-page"),s=t.getElement(".next-page"),n=t.getElement(".pagination-numbers"),i=t.getElements(".destinations-page");if(!e||!s||!n||0===i.length)return;this.prevButton=e,this.nextButton=s,this.paginationNumbersContainer=n,this.destinationPages=i,this.destinationsSection=t.getElement("#destinations"),this.totalPages=i.length,this.maxVisibleButtons=3,this.paginationNumbersContainer.addEventListener("click",e=>{if(e.target.classList.contains("pagination-number")){const t=parseInt(e.target.getAttribute("data-page"));isNaN(t)||this.showPage(t,!0)}}),this.prevButton.addEventListener("click",()=>{this.currentPage>1&&this.showPage(this.currentPage-1,!0)}),this.nextButton.addEventListener("click",()=>{this.currentPage<this.totalPages&&this.showPage(this.currentPage+1,!0)}),setTimeout(()=>{this.showPage(1,!1)},150)}catch(e){console.error("Error initializing pagination:",e)}},showPage(e,s=!1){try{this.destinationPages.forEach(e=>{e.classList.remove("active")});const n=t.getElement(`.destinations-page[data-page="${e}"]`);n&&n.classList.add("active"),this.currentPage=e,this.updatePaginationUI(),s&&this.destinationsSection&&t.isMobileDevice()&&this.destinationsSection.scrollIntoView({behavior:"smooth"}),this.isInitialLoad=!1}catch(e){console.error("Error showing page:",e)}},updatePaginationUI(){try{this.paginationNumbersContainer.innerHTML="";let e=Math.max(1,this.currentPage-Math.floor(this.maxVisibleButtons/2)),t=e+this.maxVisibleButtons-1;t>this.totalPages&&(t=this.totalPages,e=Math.max(1,t-this.maxVisibleButtons+1));for(let s=e;s<=t;s++){const e=document.createElement("button");e.classList.add("pagination-number"),e.setAttribute("data-page",s),e.textContent=s,s===this.currentPage&&e.classList.add("active"),this.paginationNumbersContainer.appendChild(e)}1===this.currentPage?(this.prevButton.setAttribute("disabled","disabled"),this.prevButton.classList.add("disabled")):(this.prevButton.removeAttribute("disabled"),this.prevButton.classList.remove("disabled")),this.currentPage===this.totalPages?(this.nextButton.setAttribute("disabled","disabled"),this.nextButton.classList.add("disabled")):(this.nextButton.removeAttribute("disabled"),this.nextButton.classList.remove("disabled"))}catch(e){console.error("Error updating pagination UI:",e)}}},g={currentIndex:0,testimonialCount:0,visibleCount:3,track:null,testimonials:null,scrollPosition:0,init(){if(this.track=t.getElement(".testimonials-track"),this.testimonials=t.getElements(".testimonial-card"),!this.track||!this.testimonials.length)return;this.testimonialCount=this.testimonials.length;const e=t.getElement(".prev-testimonial"),s=t.getElement(".next-testimonial");e&&e.addEventListener("click",()=>this.navigate("prev")),s&&s.addEventListener("click",()=>this.navigate("next")),this.setupTextOverflow(),this.setupTestimonialClicks(),this.setupModal(),this.setupSwipeEvents(),this.adjustVisibleCount(),this.createIndicators(),this.updateButtonStates(e,s),window.addEventListener("resize",t.throttle(()=>{this.adjustVisibleCount(),this.navigate("current"),this.createIndicators(),this.ensureMobileControlsVisibility()},200)),this.ensureMobileControlsVisibility()},ensureMobileControlsVisibility(){const e=t.isMobileDevice(),s=t.getElement(".testimonial-controls"),n=t.getElement(".testimonial-indicators");if(s&&e){s.style.display="flex",s.style.opacity="1";s.querySelectorAll("button").forEach(e=>{e.style.display="flex",e.style.opacity="1",e.style.width="40px",e.style.height="40px"})}n&&e&&(n.style.display="flex",n.style.opacity="1",n.style.marginTop="15px");const i=t.getElement(".testimonial-modal");i&&e&&(i.style.zIndex="9999")},adjustVisibleCount(){const e=this.visibleCount;if(window.innerWidth<768?this.visibleCount=1:window.innerWidth<992?this.visibleCount=2:this.visibleCount=3,e!==this.visibleCount){if(this.testimonials&&this.testimonials.length){const e=100/this.visibleCount;this.testimonials.forEach(t=>{t.style.width=`${e}%`})}this.currentIndex=0,this.navigate("current")}},setupTextOverflow(){t.getElements(".testimonial-text").forEach(e=>{e.style.maxHeight="150px",e.scrollHeight>e.clientHeight&&e.classList.add("has-overflow")})},setupTestimonialClicks(){t.getElements(".testimonial-text").forEach(e=>{e.addEventListener("click",()=>{const s=e.closest(".testimonial-card").querySelector(".testimonial-author").innerHTML,n=t.getElement(".testimonial-modal"),i=t.getElement(".testimonial-modal-text"),o=t.getElement(".testimonial-modal-author");if(i.textContent=e.textContent,o.innerHTML=s,n.style.display="flex",t.isMobileDevice()){this.scrollPosition=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${this.scrollPosition}px`,document.body.style.width="100%",document.body.style.touchAction="none";const e=t.getElement(".testimonial-modal-content");e&&(e.style.overflowY="auto",e.style.webkitOverflowScrolling="touch",e.style.maxHeight="80vh")}})})},setupModal(){const e=t.getElement(".testimonial-modal"),s=t.getElement(".testimonial-modal-close"),n=t.getElement(".testimonial-modal-content");s&&s.addEventListener("click",()=>{this.closeModal(e)}),e.addEventListener("click",t=>{t.target===e&&this.closeModal(e)}),document.addEventListener("keydown",t=>{"Escape"===t.key&&"flex"===e.style.display&&this.closeModal(e)}),n&&t.isMobileDevice()&&(n.addEventListener("touchstart",e=>{e.stopPropagation()},{passive:!0}),n.addEventListener("touchmove",e=>{e.stopPropagation()},{passive:!0}))},closeModal(e){e.style.display="none",t.isMobileDevice()&&(document.body.style.position="",document.body.style.overflow="",document.body.style.height="",document.body.style.width="",document.body.style.top="",document.body.style.touchAction="",window.scrollTo(0,this.scrollPosition))},navigate(e){const s=t.getElement(".prev-testimonial"),n=t.getElement(".next-testimonial");"next"===e?this.currentIndex=Math.min(this.currentIndex+1,this.testimonialCount-this.visibleCount):"prev"===e&&(this.currentIndex=Math.max(this.currentIndex-1,0));const i=100/this.visibleCount,o=-this.currentIndex*i;this.track.style.transform=`translateX(${o}%)`,this.updateButtonStates(s,n),this.updateActiveIndicator()},updateButtonStates(e,t){e&&t&&(this.currentIndex<=0?(e.classList.add("disabled"),e.setAttribute("disabled","disabled")):(e.classList.remove("disabled"),e.removeAttribute("disabled")),this.currentIndex>=this.testimonialCount-this.visibleCount?(t.classList.add("disabled"),t.setAttribute("disabled","disabled")):(t.classList.remove("disabled"),t.removeAttribute("disabled")))},createIndicators(){const e=t.getElement(".testimonial-indicators");if(!e)return;e.innerHTML="";const s=Math.max(1,this.testimonialCount-this.visibleCount+1),n=s>5,i=n?5:s,o=n?Math.ceil(s/5):1;for(let t=0;t<i;t++){const s=document.createElement("div");s.classList.add("testimonial-indicator");const n=t*o;s.setAttribute("data-slide",n),this.currentIndex>=n&&(t===i-1||this.currentIndex<(t+1)*o)&&s.classList.add("active"),s.addEventListener("click",()=>{this.currentIndex=n,this.navigate("current")}),e.appendChild(s)}},updateActiveIndicator(){const e=t.getElements(".testimonial-indicator");if(!e.length)return;let s=1;if(e.length>=2){const t=parseInt(e[0].getAttribute("data-slide")||"0"),n=parseInt(e[1].getAttribute("data-slide")||"1");s=n-t}e.forEach(t=>{const n=parseInt(t.getAttribute("data-slide")||"0");this.currentIndex>=n&&(n===parseInt(e[e.length-1].getAttribute("data-slide")||"0")||this.currentIndex<n+s)?t.classList.add("active"):t.classList.remove("active")})},setupSwipeEvents(){if(!this.track)return;const e=this.track.closest(".testimonials-carousel");e&&(e.style.userSelect="none",e.addEventListener("touchstart",e=>{this.touchStartX=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",e=>{this.touchEndX=e.changedTouches[0].screenX,this.handleSwipe()},{passive:!0}),e.addEventListener("mousedown",t=>{this.isDragging=!0,this.touchStartX=t.screenX,e.style.cursor="grabbing",t.preventDefault()}),e.addEventListener("mousemove",e=>{this.isDragging&&e.preventDefault()}),e.addEventListener("mouseup",t=>{this.isDragging&&(this.touchEndX=t.screenX,this.handleSwipe(),this.isDragging=!1,e.style.cursor="")}),e.addEventListener("mouseleave",()=>{this.isDragging&&(this.isDragging=!1,e.style.cursor="")}),e.addEventListener("contextmenu",e=>{this.isDragging&&e.preventDefault()}))},handleSwipe(){const e=this.touchEndX-this.touchStartX;e>50?this.navigate("prev"):e<-50&&this.navigate("next")}},p={init(){try{if(window.mapInitialized)return;const e="#destination-location",s=t.getElement(e);if(!s)return;const n=t.getElement("#map-modal"),i=t.getElement("#map-close"),o=t.getElement("#map-iframe");if(!n||!i||!o)return;const a=s.querySelector("span");if(!a)return;const r=a.textContent.trim(),l=`${r}, Bali, Indonesia`;s.addEventListener("click",()=>{const e=this.getMapUrlForLocation(r,l);o.src=e,n.classList.add("active"),document.body.style.overflow="hidden"}),i.addEventListener("click",()=>{n.classList.remove("active"),document.body.style.overflow="",setTimeout(()=>{o.src=""},300)}),n.addEventListener("click",e=>{e.target===n&&i.click()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("active")&&i.click()})}catch(e){console.error("Error initializing map functionality:",e)}},getMapUrlForLocation(e,t){const s=encodeURIComponent(t);switch(e){case"Mount Batur":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63178.05870769603!2d115.3363808779767!3d-8.240042711826508!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd1f403c8e8ee3f%3A0xd38045afa18670b4!2s${s}!5e0!3m2!1sen!2sid!4v1744546957191!5m2!1sen!2sid`;case"Nusa Lembongan":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63106.150796702204!2d115.4089464791813!3d-8.678764450453224!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd26d9f537b69f3%3A0xdc1b94bd6c67a033!2s${s}!5e0!3m2!1sen!2sid!4v1744546715537!5m2!1sen!2sid`;case"Nusa Penida":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d252382.39858815237!2d115.3639201795288!3d-8.741299893904245!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd271194d1319d3%3A0x5c3a3706b2197b7b!2s${s}!5e0!3m2!1sen!2sid!4v1744547957195!5m2!1sen!2sid`;case"Brasela, Ubud":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31573.890523321686!2d115.24793634509159!3d-8.42753551311218!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd2226c4e8c42bd%3A0xd37acdbc9b64ffd!2s${s}!5e0!3m2!1sen!2sid!4v1744547593251!5m2!1sen!2sid`;case"Lovina Beach":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63190.69600463299!2d114.98880157776235!3d-8.160521814474285!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd19b3dcc0765ab%3A0xab6c47770c720750!2s${s}!5e0!3m2!1sen!2sid!4v1744601225502!5m2!1sen!2sid`;case"Tirta Empul Temple":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15787.413436995239!2d115.3048108863503!3d-8.416059239840411!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd218f4e06131b5%3A0x53a25a017714ecc1!2s${t}!5e0!3m2!1sen!2sid!4v1744605441753!5m2!1sen!2sid`;case"Tulamben":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d126339.04149923936!2d115.50661864873565!3d-8.29333965650206!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd1ff5d1e36e1ff%3A0x5030bfbca831720!2s${t}!5e0!3m2!1sen!2sid!4v1744606067197!5m2!1sen!2sid`;case"Sanur":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31551.73079253046!2d115.23896984527451!3d-8.694745476471368!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd241b7d35f0b21%3A0x5030bfbca830e40!2sS${t}!5e0!3m2!1sen!2sid!4v1744606533614!5m2!1sen!2sid`;case"Amed":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15790.063337163447!2d115.6720538363393!3d-8.35080773728279!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dcdff7c26aea48b%3A0xe814e752fd17550!2s${t}!5e0!3m2!1sen!2sid!4v1744606803481!5m2!1sen!2sid`;case"Nusa Dua":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7885.791988177492!2d115.22864797787398!3d-8.795841312492135!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd243213c2ea8df%3A0xfe9b8fbae7a12e8f!2s${t}!5e0!3m2!1sen!2sid!4v1744607715630!5m2!1sen!2sid`;case"Uluwatu Temple":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15770.15467254223!2d115.07489383642097!3d-8.829335306694784!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd24ffc20cb8191%3A0xcb98d1ba7db0495!2s${t}!5e0!3m2!1sen!2sid!4v1744608023535!5m2!1sen!2sid`;case"Kuta Beach":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7887.441994270617!2d115.16289542787064!3d-8.718021910572162!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd246bc2ab70d43%3A0x82feaae12f4ab48e!2s${t}!5e0!3m2!1sen!2sid!4v1744608773712!5m2!1sen!2sid`;case"Kedonganan Beach":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7886.5156615647065!2d115.16335807787247!3d-8.761795061649702!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd24468f30f174b%3A0xdd70159dc4cd2d8e!2s${t}!5e0!3m2!1sen!2sid!4v1744609124882!5m2!1sen!2sid`;case"Ayung River":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63110.82095510031!2d115.21597317910378!3d-8.650941751011633!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd24077b11b836f%3A0xb1b754b869a54a2f!2s${t}!5e0!3m2!1sen!2sid!4v1744609435663!5m2!1sen!2sid`;case"Lempuyang Temple":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3947.112944503302!2d115.62778021321411!3d-8.390551020077789!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd2074650566bad%3A0x9d09f3f6b34b8ffb!2s${t}!5e0!3m2!1sen!2sid!4v1744610442383!5m2!1sen!2sid`;case"Seminyak Beach":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31552.13568548977!2d115.13572904527119!3d-8.689936276222365!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd2471c804bfd05%3A0xdcc2b5ae63dc9082!2s${t}!5e0!3m2!1sen!2sid!4v1744610733822!5m2!1sen!2sid`;case"Padangbai":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31565.353429010596!2d115.48756034516235!3d-8.531462568192737!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd20e6888a52347%3A0x5030bfbca831910!2s${t}!5e0!3m2!1sen!2sid!4v1744613119477!5m2!1sen!2sid`;case"Tanah Lot":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15778.949543094966!2d115.0765287363851!3d-8.621191648064672!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd237824f71deab%3A0xcaabe270f7e34d69!2s${t}!5e0!3m2!1sen!2sid!4v1744613787067!5m2!1sen!2sid`;case"Mount Agung":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63161.480058266956!2d115.46594397825662!3d-8.343223358658886!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd202e428b2eac7%3A0xa7d7d26cb3a3a7ad!2s${t}!5e0!3m2!1sen!2sid!4v1744614122191!5m2!1sen!2sid`;case"Tanjung Benoa":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3943.292705736749!2d115.21222549135064!3d-8.758506639460656!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd243bda5edd505%3A0x5aa7f8daba33bb29!2s${t}!5e0!3m2!1sen!2sid!4v1744614669466!5m2!1sen!2sid`;case"Timbis Beach":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63078.426114755406!2d115.1528596796394!3d-8.842146997619915!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd25c9c97ba2f09%3A0x57528e822ace6831!2s${t}!5e0!3m2!1sen!2sid!4v1744617568277!5m2!1sen!2sid`;case"Jatiluwih":return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d126318.69814771487!2d115.03657164943495!3d-8.356394221643434!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd227bedf45cc29%3A0x5030bfbca831a80!2s${t}!5e0!3m2!1sen!2sid!4v1744618265632!5m2!1sen!2sid`;default:return`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d126180.25308523745!2d115.1171446871789!3d-8.650645903152404!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd22f7520fca7d3%3A0x2872b62cc456cd84!2s${s}!5e0!3m2!1sen!2sid!4v1744548957195!5m2!1sen!2sid`}}};function b(t){t.preventDefault();const s=new FormData(t.target),n=Object.fromEntries(s);if(!n.name||!n.email||!n.message)return void w("Please fill in all required fields.","error");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return void w("Please enter a valid email address.","error");const i=t.target.querySelector(".contact-submit-btn"),o=i.innerHTML;i.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...',i.disabled=!0,setTimeout(()=>{const s=`Hello BaliBlissed! I'm interested in your services.\n\n            Name: ${n.name}\n            Email: ${n.email}\n            Phone: ${n.phone||"Not provided"}\n            Travelers: ${n.travelers||"Not specified"}\n            Service Interest: ${n.service||"Not specified"}\n            Travel Dates: ${n.dates||"Flexible"}\n\n            Message: ${n.message}`,a=`https://wa.me/${e.WHATSAPP_NUMBER.replace("+","")}?text=${encodeURIComponent(s)}`;t.target.reset(),i.innerHTML=o,i.disabled=!1,w("Thank you! Your message has been prepared. Click OK to send via WhatsApp.","success"),setTimeout(()=>{window.open(a,"_blank")},1e3)},1500)}function v(e){e.preventDefault();const t=e.target.querySelector("#newsletter-email").value;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return void w("Please enter a valid email address.","error");const s=e.target.querySelector(".newsletter-submit-btn"),n=s.textContent;s.textContent="Subscribing...",s.disabled=!0,setTimeout(()=>{e.target.reset(),s.textContent=n,s.disabled=!1,E(),w("Thank you for subscribing! You'll receive our latest updates and exclusive offers.","success")},1500)}function E(){const e=t.getElement("#newsletter-modal");e&&(e.style.display="none",document.body.style.overflow="auto")}function w(e,t="info"){document.querySelectorAll(".notification").forEach(e=>e.remove());const s=document.createElement("div");s.className=`notification notification-${t}`,s.innerHTML=`\n            <div class="notification-content">\n                <i class="fas ${"success"===t?"fa-check-circle":"error"===t?"fa-exclamation-circle":"fa-info-circle"}"></i>\n                <span>${e}</span>\n                <button class="notification-close">&times;</button>\n            </div>\n        `,s.style.cssText=`\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 10000;\n            background: ${"success"===t?"#4CAF50":"error"===t?"#f44336":"#2196F3"};\n            color: white;\n            padding: 1rem 1.5rem;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            max-width: 400px;\n            animation: slideInRight 0.3s ease-out;\n        `,document.body.appendChild(s);s.querySelector(".notification-close").addEventListener("click",()=>s.remove()),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}if(document.addEventListener("DOMContentLoaded",function(){!async function(){try{const e=JSON.parse(sessionStorage.getItem("scrollToSection")||"[]");e&&(sessionStorage.removeItem("scrollToSection"),e.forEach(e=>{setTimeout(()=>{const s=t.getElement(`#${e}`);s&&s.scrollIntoView({behavior:"smooth"})},300)})),o.init(),a.init(),f.init(),g.init(),p.init(),r.init(),await i.init();window.location.pathname.includes("/destinations/")&&function(){const e=document.querySelector(".destination-hero .hero-bg");if(!e&&window.location.pathname.includes("/destinations/"))return void console.log("Could not find .destination-hero .hero-bg element on this page.");const t=document.title,n=t.split("|")[0].trim().replace(/\s+/g," ").trim(),i=s[n];if(!i)return void console.warn(`Image URL not found in destinationImages map for title derived from document.title: "${n}" (Original: "${t}")`);const o=window.location.pathname;let a="";o.includes("/destinations/activities/")?a="../../../":o.includes("/destinations/")&&(a="../../"),i.startsWith("http")||i.startsWith("/")?e.src=i:e.src=a+i}()}catch(e){console.error("Error during initialization:",e)}}(),function(){const e=t.getElement("#contact-form");e&&e.addEventListener("submit",b)}(),function(){const e=t.getElement("#newsletter-form"),s=t.getElement(".newsletter-modal-close"),n=t.getElement(".newsletter-modal-overlay");e&&e.addEventListener("submit",v);s&&s.addEventListener("click",E);n&&n.addEventListener("click",E)}()}),!document.querySelector("#notification-styles")){const e=document.createElement("style");e.id="notification-styles",e.textContent="\n            @keyframes slideInRight {\n                from {\n                    transform: translateX(100%);\n                    opacity: 0;\n                }\n                to {\n                    transform: translateX(0);\n                    opacity: 1;\n                }\n            }\n\n            .notification-content {\n                display: flex;\n                align-items: center;\n                gap: 0.5rem;\n            }\n\n            .notification-close {\n                background: none;\n                border: none;\n                color: white;\n                font-size: 1.2rem;\n                cursor: pointer;\n                margin-left: auto;\n                padding: 0;\n                width: 20px;\n                height: 20px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n        ",document.head.appendChild(e)}}();